<!DOCTYPE HTML>
<html>
	<head>
	
		<title>Entropiya | Power Plant Engineering 8</title> <!-- need to be updated per test -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="stylesheet" href="css/index.css" />
		<script src="js/index.js"></script>
		<link rel="stylesheet" href="assets/css/main.css" />

		<!-- FontAwesome, jQuery and jQuery Mobile -->
		<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css">
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script> 
		
		<!-- jqmath -->
		<link rel="stylesheet" href="mathscribe/jqmath-0.4.3.css">
		<script src="mathscribe/jquery-1.4.3.min.js"></script>
		<script src="mathscribe/jqmath-etc-0.4.5.min.js" charset="utf-8"></script>
		
		<script>
			$(document).ready(function() {
				solutionIsVisible = true;
				
				//mga nadagdag for view_solution
				
				$('.for_view_solution').hide();
				$('#view_solution').css('visibility', 'hidden');
				
				for(i=0; i<quiz.length; i++) {
					$('#solution_' + (i+1)).hide();
				}
				
				$('#view_solution').click(function() {
					for(i=0; i<quiz.length; i++) {
						$('#solution_' + (i+1)).hide();
					}
						
					$('#solution_' + (questionNumber + 1)).fadeToggle('slow');
					$('.for_view_solution').fadeToggle('slow');
					
					if(solutionIsVisible) {
						document.getElementById('view_solution').textContent = 'Hide Solution';
						solutionIsVisible = false;
					}else if(!solutionIsVisible){
						document.getElementById('view_solution').textContent = 'View Solution';
						solutionIsVisible = true;
					}
					
				});

				
				// Image factory
				var createImage = function(src, title, id) {
				  var img   = new Image();
				  img.src   = src;
				  img.id = id;
				  img.alt   = title;
				  img.title = title;
				  return img; 
				};

				// array of images dun dineclare sa main script para global
				//var images = [];

				// push two images to the array
				//images.push(createImage("images/for_q_1.png", "pic01 title", "for_q_1"));
				//images.push(createImage("images/for_q_2.png", "pic03 title", "for_q_2"));
				
				// mga nadagdag quiz with images
				if((questionNumber+1) === 1) {
					$('#question').after(images[0]);
				} else if((questionNumber+1) === 2) {
					$('#question').after(images[1]);
				}
				
			});
		</script>
	
	</head>
	
	<body>
		<div data-role="panel" data-position="right" data-display="overlay" data-theme="a" id="panel">
			<div class="nav_in_panel_container"> 
				<ul data-role="listview" data-inset="true" data-theme="b" data-dividertheme="f">
					<li data-icon="false"><a class="nav_in_panel" href="index.html" rel="external"><i class="fa fa-home" aria-hidden="true" ></i>  Home  </a> </li>
					<li data-icon="false"><a class="nav_in_panel" href="about.html" rel="external"><i class="fa fa-user-o" aria-hidden="true" ></i>  About  </a> </li>
					<li data-icon="false"><a class="nav_in_panel" href="references.html" rel="external"><i class="fa fa-book" aria-hidden="true" ></i>  References  </a>
					<li data-icon="false"><a class="nav_in_panel" href="https://www.facebook.com/vilmar.empino?__nodl" rel="external" ><i class="fa fa-facebook-square" aria-hidden="true"></i>  Like us on facebook!  </a></li>
				</ul>
			</div>
		</div>
		<div id="header_container">
			<figure class="logo" id="logo">
				<a href="index.html" rel="external"><img src="images/logo.png" alt="image"/></a>
			</figure>
			<ul class="home_nav_quiz"> 
				<a href="#panel" class="right_panel"> <i class="fa fa-bars" id="icon_for_right_panel" aria-hidden="true"></i> </a>
				<div class="toBeHidden">
				<li class="li"><a class="a" href="references.html" rel="external">References</a></li>
				<li class="li"><a class="a" href="about.html" rel="external">About</a></li>
				<!-- <li class="li" id="dropdown">
					<a class="a" href="javascript:void(0)" class="dropbtn">MCQs <i class="fa fa-caret-down" aria-hidden="true"></i></a>
					<div class="dropdown-content">
					<a class="a" href="home-me.html" rel="external">Mechanical Engineering</a>
					<a class="a" href="home-ece.html" rel="external">Electronics Engineering</a> 
					</div>
				</li> -->
				<li class="li"><a class="a" href="index.html" rel="external">Home</a></li>
				</div>
			</ul>
		</div>
		<div id="body_container"> 
			
			<div id="for_contents_quiz">
				
				<div id="for_left_content_quiz">
					<div id="for_title">
						<strong class="for_h2">Power Plant Engineering - Test 8 Gas Turbine Power Plant (21-40)</strong> <!-- need to be updated per test -->
					</div>
					<br>
					<div id="for_top_ads_quiz">
						<span> FTA  </span>
					</div>
					<div id="for_left_navbar"> <!-- need to be updated per test -->
						<div data-role="collapsible">
							<h3>Problems</h3>
							<ul data-role="listview" id="left_nav" data-inset="true" data-theme="c" data-dividertheme="f">
								<li><a href="ppe01.html"  rel="external">Test 1</a></li>
								<li><a href="ppe02.html"  rel="external">Test 2</a></li>
								<li><a href="ppe03.html"  rel="external">Test 3</a></li>
								<li><a href="ppe04.html"  rel="external">Test 4</a></li>
								<li><a href="ppe05.html"  rel="external">Test 5</a></li>
								<li><a href="ppe06.html"  rel="external">Test 6</a></li>
								<li><a href="ppe07.html"  rel="external">Test 7</a></li>
								<li><a href="ppe08.html"  rel="external">Test 8</a></li>
								<li><a href="ppe09.html"  rel="external">Test 9</a></li>
								<li><a href="ppe10.html"  rel="external">Test 10</a></li>
								<li><a href="ppe11.html"  rel="external">Test 11</a></li>
								<li><a href="ppe12.html"  rel="external">Test 12</a></li>
								<li><a href="ppe13.html"  rel="external">Test 13</a></li>
								<li><a href="ppe14.html"  rel="external">Test 14</a></li>
								<li><a href="ppe15.html"  rel="external">Test 15</a></li>
								<li><a href="ppe16.html"  rel="external">Test 16</a></li>
								<li><a href="ppe17.html"  rel="external">Test 17</a></li>
								<li><a href="ppe18.html"  rel="external">Test 18</a></li>
								<li><a href="ppe19.html"  rel="external">Test 19</a></li>
								<li><a href="ppe20.html"  rel="external">Test 20</a></li>
								<li><a href="ppe21.html"  rel="external">Test 21</a></li>
								<li><a href="ppe22.html"  rel="external">Test 22</a></li>
								<li><a href="ppe23.html"  rel="external">Test 23</a></li>
								<li><a href="ppe24.html"  rel="external">Test 24</a></li>
								<li><a href="ppe25.html"  rel="external">Test 25</a></li>
								<li><a href="ppe26.html"  rel="external">Test 26</a></li>
								<li><a href="ppe27.html"  rel="external">Test 27</a></li>
							</ul>
						</div>
					</div>
					<div id="for_right_navbar"> <!-- need to be updated per test -->
						<div data-role="collapsible">
							<h3>Elements</h3>
							<ul data-role="listview" id="right_nav" data-inset="true" data-theme="c" data-dividertheme="f">
								<li><a href="#"  rel="external">Test I</a></li>
								
							</ul>
						</div>
					</div>
					<br>
					<div class="for_quiz">
						<div id="content">
							<strong id="timerContinue"><time>00:00:00</time></strong>
							<strong id="score">Score: 0/50</strong> <br><br>
							<div class="for_question"><span id="question"></span> </div> 
							<div id="choices"></div> 
							<button id="submit" class="button"> Submit Answer</button>
						</div>
					</div>
					<br>
					<!-- //mga nadagdag for view_solution -->
					<!-- <div class="for_view_solution">
						<p id="solution_1">
							<span>Solution 1</span><br>Data: <br>
							<span class="eq">$m_1 = 500 g_m$ $/frac{F}{A} \sqrt{\pi}$ </span><br>
							<span class="eq">$m_2 = 800 g_f$ </span><br>
							<span class="eq">$m_3 = 15 poundals$ </span><br>
							<span class="eq">$m_4 = 3 lb_f$ </span><br>
							<span class="eq">$m_5 = 0.10slug$ </span><br>
							<span class="eq">$g = 30.5 ft/s^2$ </span><br>
							Unknown: <br>
							<span class="eq">a) Total mass, $m_T$ in $g_m$ </span><br>
							<span class="eq">b) $m_T$ in $lb_m$ </span><br>
							<span class="eq">c) $m_T$ in $slugs$ </span><br>
							Solution: <br>
							<span class="eq"> $m_T = m_1 + m_2 +$ $m_3 + m_4 + m_5 \longrightarrow (eq. 1)$</span> <br>
							
							<span class="eq"> </span> <br>
						</p>
						
						<p id="solution_2"><span>Solution 2</span><br>Data: <br> 
							<span class="eq"> $g_{sea} = 32.088 fps^2 $ </span> <br>
							<span class="eq"> $\Delta g = -0.003 fps^2 $ per 1000 ft </span> <br>
							Unknown: <br>
							<span class="eq"> a) Height, $h$ if g is 30.504 $fps^2$ </span> <br>
							<span class="eq"> b) $h$ if $F_g$ is 95% of original </span> <br>
							<span class="eq"> c) $F_g$ if $h$ is 29,131 ft and $m$ is 180 $lb_m$</span> <br>
							Solution: <br>
							<span class="eq">a) $h = (30.504 - 32.088)fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 528,000ft$ $= \underline{100mi}$ </span> <br>
							<span class="eq"> b) $h = (32.088)(0.95 - 1)$ $fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 534,800$ ft or $\underline{101.29 mi}$</span> <br>
							<span class="eq"> c) $F_g = mg \longrightarrow (eq. 1)$ </span> <br>
							But <br>
							<span class="eq"> $m = 180 lb_m$ x $\frac{1 slug}{32.2 lb_m}$ $=5.59 slugs$ </span> <br>
							<span class="eq"> $g = 29,131ft$ x $\frac{-0.003 fps^2}{1000 ft}$ $+ 32.088 fps^2$ $32.00 fps^2$</span> <br>
							Then from $(eq. 1)$ <br>
							<span class="eq"> $F_g = 5.59 slugs$ x $32.00 fps^2$ $=\underline{178.88 lb_f}$</span> <br>
						</p> 
						
						<p id="solution_3"><span>Solution 3</span><br>Data: <br> 
							<span class="eq"> $g_{sea} = 32.088 fps^2 $ </span> <br>
							<span class="eq"> $\Delta g = -0.003 fps^2 $ per 1000 ft </span> <br>
							Unknown: <br>
							<span class="eq"> a) Height, $h$ if g is 30.504 $fps^2$ </span> <br>
							<span class="eq"> b) $h$ if $F_g$ is 95% of original </span> <br>
							<span class="eq"> c) $F_g$ if $h$ is 29,131 ft and $m$ is 180 $lb_m$</span> <br>
							Solution: <br>
							<span class="eq">a) $h = (30.504 - 32.088)fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 528,000ft$ $= \underline{100mi}$ </span> <br>
							<span class="eq"> b) $h = (32.088)(0.95 - 1)$ $fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 534,800$ ft or $\underline{101.29 mi}$</span> <br>
							<span class="eq"> c) $F_g = mg \longrightarrow (eq. 1)$ </span> <br>
							But <br>
							<span class="eq"> $m = 180 lb_m$ x $\frac{1 slug}{32.2 lb_m}$ $=5.59 slugs$ </span> <br>
							<span class="eq"> $g = 29,131ft$ x $\frac{-0.003 fps^2}{1000 ft}$ $+ 32.088 fps^2$ $32.00 fps^2$</span> <br>
							Then from $(eq. 1)$ <br>
							<span class="eq"> $F_g = 5.59 slugs$ x $32.00 fps^2$ $=\underline{178.88 lb_f}$</span> <br>
						</p>
						
						<p id="solution_4"><span>Solution 4</span><br>Data: <br> 
							<span class="eq"> $g_{sea} = 32.088 fps^2 $ </span> <br>
							<span class="eq"> $\Delta g = -0.003 fps^2 $ per 1000 ft </span> <br>
							Unknown: <br>
							<span class="eq"> a) Height, $h$ if g is 30.504 $fps^2$ </span> <br>
							<span class="eq"> b) $h$ if $F_g$ is 95% of original </span> <br>
							<span class="eq"> c) $F_g$ if $h$ is 29,131 ft and $m$ is 180 $lb_m$</span> <br>
							Solution: <br>
							<span class="eq">a) $h = (30.504 - 32.088)fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 528,000ft$ $= \underline{100mi}$ </span> <br>
							<span class="eq"> b) $h = (32.088)(0.95 - 1)$ $fps^2$ x $\frac{1000ft}{-0.003 fps^2}$ $= 534,800$ ft or $\underline{101.29 mi}$</span> <br>
							<span class="eq"> c) $F_g = mg \longrightarrow (eq. 1)$ </span> <br>
							But <br>
							<span class="eq"> $m = 180 lb_m$ x $\frac{1 slug}{32.2 lb_m}$ $=5.59 slugs$ </span> <br>
							<span class="eq"> $g = 29,131ft$ x $\frac{-0.003 fps^2}{1000 ft}$ $+ 32.088 fps^2$ $32.00 fps^2$</span> <br>
							Then from $(eq. 1)$ <br>
							<span class="eq"> $F_g = 5.59 slugs$ x $32.00 fps^2$ $=\underline{178.88 lb_f}$</span> <br>
						</p>
					
					</div> -->
					
					<button id="view_solution" class="button small"> View Solution</button>

										
				</div>
				
								
				
				<div class="for_right_ads_quiz">
					<span> FRA   </span>
				</div>
			</div>
		</div>
			
			<script>
	
 //star timer
  var timeElapsed = "";
	var h1 = document.getElementById('timerContinue'),
		start = document.getElementById('start'),
		stop = document.getElementById('stop'),
		clear = document.getElementById('clear'),
		seconds = 0, minutes = 0, hours = 0,
		t;

	function add() {
		seconds++;
		if (seconds >= 60) {
			seconds = 0;
			minutes++;
			if (minutes >= 60) {
				minutes = 0;
				hours++;
			}
		}
		
		h1.textContent = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);
		timeElapsed =(hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" +  (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);

		timer();
	}
	function timer() {
		t = setTimeout(add, 1000);
	}
	timer();

	//end timer
	
var quiz = [{
	"question": "A gas turbine working on air standard Brayton cycle has air that enters into the compressor at atmospheric condition and 22˚C. The pressure ratio is 9 and the maximum temperature in the cycle is 1077˚C. Compute for the cycle efficiency in percent.",
	"choices": ["44.85", "43.92", "41.65", "46.62"],
	"correct": "46.62"
}, {
	"question": "In a gas turbine unit, air enters the combustion chamber at 550 kPa, 227˚C and 43 m/s. The products of combustion leave the combustor at 511 kPa, 1004˚C and 140 m/s. Liquid fuel enters with heating value of 43,000 kJ/kg. For fuel-air ratio of 0.0229, what is the combustor efficiency of the unit in percent?",
	"choices": ["64", "92", "79", "72"],
	"correct": "79"
}, {
	"question": "Air enters the combustion chamber of a gas turbine unit at 550 kPa, 227˚C and 43 m/s. The products of combustion leave the combustor at 517 kPa, 1007˚C and 140 m/s. Liquid fuel enters with a heating value of 43,000 kJ/kg. The combustor efficiency is 95%. What is the air-fuel ratio? Note: Properties of air: At T = 500 K, h = 503.02 kJ/kg and at T = 1280 K, h = 1372.25 kJ/kg. ",
	"choices": ["47.39", "32.25", "56.93", "44.95"],
	"correct": "44.95"
}, {
	"question": "Air enters the compressor of a gas turbine at 100 kPa and 300 K wit a volume flow rate of 5.81 m^3/s. The compressor pressure ratio is 10 and its isentropic efficiency is 85%. At the inlet to the turbine, the pressure is 950 kPa and the temperature is 1400 K. The turbine has an isentropic efficiency of 88% and the exit pressure is 100 kPa. On the basis of an air-standard analysis, what is the thermal efficiency of the cycle in percent?",
	"choices": ["42.06", "60.20", "31.19", "25.15"],
	"correct": "31.19"
}, {
	"question": "What is the thermal efficiency of an air-standard Brayton cycle if the pressure ratio is 10?",
	"choices": ["48.21%", "50.16%", "45.36%", "42.44%"],
	"correct": "48.21%"
}, {
	"question": "In a simple gas turbine plant working on the ideal constant pressure cycle, air  is taken into the compressor at 1 bar, 16˚C and delivered at 5.4 bar. If the temperature at turbine inlet is 700˚C, calcualte the ideal thermal efficiency. Take k = 1.4.",
	"choices": ["38.23%", "42.61%", "45.66%", "35.38%"],
	"correct": "38.23%"
}, {
	"question": "Air is drawn into a gas turbine working on the constant pressure cycle at 1 bar 21˚C and compressed to 5.7 bar. The temperature at the end of heat supply is 680˚C. Taking expansion and compression to be adiabatic where cv = 0.718 kJ/kg-K, cp = 1.055 kJ/kg-K, calculate the heat energy supplied per kg at constant pressure.",
	"choices": ["472", "389", "501", "489"],
	"correct": "472"
}, {
	"question": "What is the thermal efficiency of an air-standard Brayton cycle if the air enters and leaves the turbine at 1000 K and 550 K respectively?",
	"choices": ["40.74", "44.99", "50.38", "54.86"],
	"correct": "44.99"
}, {
	"question": "There are required 2200 kW net from a gas turbine unit for pumping of crude oil. Air enters the compressor section at 100 kPa, 280 K, the pressure ratio rp = 10. The turbine section receives hot gases at 1100 K. Assume the closed Brayton cycle and determine the required air flow.",
	"choices": ["7.91 kg/s", "7.16 kg/s", "8.11 kg/s", "8.91 kg/s"],
	"correct": "8.11 kg/s"
}, {
	"question": "In an air-standard Brayton cycle, the compressor receives air at 101.325 kPa, 21˚C and it leaves at 600 kPa at the rate of 4 kg/s. Determine the turbine work if the temperature of the air entering the turbine is 1000˚C.",
	"choices": ["3000 kW", "2701 kW", "2028 kW", "3500 kW"],
	"correct": "2028 kW"
}, {
	"question": "The net power output of an air-standard Brayton cycle is 200 kW. Air enters the compressor at 32˚C and leaves the high-temperature heat exchanger at 800˚C. What is the mass flow rate of air if it leaves the turbine at 350˚C?",
	"choices": ["0.57 kg/s", "0.67 kg/s", "0.77 kg/s", "0.87 kg/s"],
	"correct": "0.87 kg/s"
}, {
	"question": "The compressor inlet air temperature in a gas turbine plant is 99˚C. Calculate the compressor air exit temperature if it requires 400 kJ/kg of work.",
	"choices": ["499˚C", "400˚C", "500˚C", "599˚C"],
	"correct": "499˚C"
}, {
	"question": "In an air-standard Brayton cycle air enters the compressor at 101.325 kPa and 27˚C. Determine the net work if the maximum temperature is 1000˚C and the pressure ratio is 9.",
	"choices": ["456.88 kJ/kg", "421.56 kJ/kg", "331.47 kJ/kg", "301.74 kJ/kg"],
	"correct": "331.47 kJ/kg"
}, {
	"question": "What is the efficiency of the compressor in a gas turbine plant if the compressor power is 300 kW. Power input is 400 kW.",
	"choices": ["75%", "80%", "85%", "70%"],
	"correct": "75%"
}, {
	"question": "The intake of the compressor of an air-standard Brayton cycle is 35000 ft^3/min at 14 psia and 95˚F. The compression ratio is 4 and the temperature at the turbine inlet is 1500˚F. The exit pressure of the turbine is 14 psia. Determine the mean effective pressure.",
	"choices": ["24.57 psi", "35.06 psi", "26 psi", "34 psi"],
	"correct": "24.57 psi"
}, {
	"question": "Calculate the work done per kg of gas expanding from 6.33 kg abs to 1.05 kg/cm^2 abs. in a gas turbine of 82% internal efficiency. Initial temperature, 750˚C; k = 1.34, M = 29.",
	"choices": ["349 kJ/kg", "425 kJ/kg", "249 kJ/kg", "525 kJ/kg"],
	"correct": "349 kJ/kg"
}, {
	"question": "Kerosene is the fuel of a gas turbine plant: fuel-air ratio, mf = 0.012, T3 = 972K, pressure ratio, rp = 4.5, exhaust to atmosphere. Find the available energy in kJ per kg air flow. Assume k = 1.34 and cp = 1.13.",
	"choices": ["352.64", "452.64", "252.64", "552.64"],
	"correct": "352.64"
}, {
	"question": "An ideal gas turbine operates with a pressure ratio of 10 and the energy input in the high temperature heat exchanger is 300 kW. Calculate the air flow rate for a temperature limits of 30˚C and 1200˚C.",
	"choices": ["0.25 kg/s", "0.34 kg/s", "0.41 kg/s", "0.51 kg/s"],
	"correct": "0.34 kg/s"
}, {
	"question": "Products of combustion with k of 1.35, 556K, molecular weight of M = 29, are moving within an exhaust pipe at 174 m/s; 1.12 kg/cm^2 abs, static pressure. Find the total pressure and temperature.",
	"choices": ["1.61 kg/cm^2, 580 K", "1.61 kg/cm^2, 570 K", "1.13 kg/cm^2, 570 K", "1.13 kg/cm^2, 580 K"],
	"correct": "1.13 kg/cm^2, 570 K"
}, {
	"question": "In an air-standard Brayton cycle the inlet temperature and pressure are 20˚C and 101.325 kPa. The turbine inlet conditions are 1200 kPa and 900˚C. Determine the air flow rate if the turbine produces 12 MW.",
	"choices": ["21.41 kg/s", "20.20 kg/s", "19.25 kg/s", "18.10 kg/s"],
	"correct": "20.20 kg/s"
}, {
	"question": "A gas turbine power plant operating on the Brayton cycle delivers 15 MW to a standby electric generator. What is the mass flow rate and the volume flow rate of air if the minimum and maximum pressures are 100 kPa and 500 kPa respectively, and temperatures of 20˚C and 1000˚C.",
	"choices": ["31.97 kg/s, 26.88 m^3/s", "36.98 kg/s, 28.00 m^3/s", "41.97 kg/s, 26.88 m^3/s", "46.98 kg/s, 28.99 m^3/s"],
	"correct": "31.97 kg/s, 26.88 m^3/s"
}]; 




	
// mga nadagdag quiz with images
// array of images  
	var images = [];
	var solutionIsVisible;

// define elements
var content = $("content"),
  questionContainer = $("question"),
  choicesContainer = $("choices"),
  scoreContainer = $("score"), //nabago
  submitBtn = $("submit");
  
  var resultPage = "";
  
// init vars
var currentQuestion = 0,
	score = 0,
  askingQuestion = true,
  questionNumber = 0,
   maxQ = quiz.length, 
  questionNumber;
  
  wrongAnswerQ = "",
  wrongAnswerNo=0;
  var yourAnswer = "You did not pick any answer.";
  var choicesMistakesG = "";
  if(maxQ > quiz.length) {
	maxQ = quiz.length;
  }
  var isOnReviewWrongPage = false;
  var duplicates  =[];

function $(id) { // shortcut for document.getElementById
  return document.getElementById(id);
}

function askQuestion() {
  var choices = quiz[questionNumber].choices,
    choicesHtml = "", choicesMistakes="" ;


  // loop through choices, and create radio buttons
  for (var i = 0; i < choices.length; i++) {
  //alert(get_rand(nums));
    choicesHtml += "<input type='radio' name='quiz" + questionNumber +
      "' id='choice" + ( i + 1) +
      "' value='" + choices[i] + "'>" +
      " <label for='choice" + (i + 1) + "'>" + choices[i] + "</label> <br>";
	  
	  choicesMistakes += "<span name='quiz" + questionNumber +
      "' id='choice" + (i + 1) +
      "' value='" + choices[i] + "'>"+ (i+1) + ". " + choices[i] + "</span><br>";
	   if(choices[i] === quiz[questionNumber].correct) {
			correctAnswer = choices[i];
			correctAnswerIndex = i;
	  }
	  
	  choicesMistakesG = choicesMistakes;
  }

  
  // load the question
  questionContainer.textContent = (questionNumber + 1) + ". " +
    quiz[questionNumber].question;
	
	
  // load the choices
  choicesContainer.innerHTML = choicesHtml;

  // setup for the first time
  if (questionNumber === 0) {
  scoreContainer.textContent = "Score: " + score + "/" + maxQ; //nabago
    submitBtn.textContent = "Submit Answer";
	//alert(quiz.length);
  }
  
	

}

function checkAnswer() {
	var yourAnswer = "You did not pick any answer.";
  // are we asking a question, or proceeding to next question?
  if (askingQuestion) {
	
	//mga nadagdag for view_solution
	if($('#solution_' + (questionNumber+1)).length > 0) {
		$('#view_solution').css('visibility', 'visible');
	}
    submitBtn.textContent = "Next Question";
    askingQuestion = false;

    // determine which radio button they clicked
    var userpick,
      correctIndex,
      radios = document.getElementsByName("quiz" + questionNumber);
    for (var i = 0; i < radios.length; i++) {
      if (radios[i].checked) { // if this radio button is checked
        userpick = radios[i].value;
		yourAnswer = userpick;
      }

      // get index of correct answer
      if (radios[i].value == quiz[questionNumber].correct) {
        correctIndex = i;
      }
    }

    // setup if they got it right, or wrong
    var labelStyle = document.getElementsByTagName("label")[correctIndex].style;
    labelStyle.fontWeight = "bold";
    if (userpick == quiz[questionNumber].correct) {
      labelStyle.color = "green";
	  score++; 
    } else {
		wrongAnswerNo++;
      labelStyle.color = "red";
	  wrongAnswerQ += "<br> <span id='question'> " + wrongAnswerNo+". " + quiz[questionNumber].question + "</span><br> " + "<div id='choices'>" + choicesMistakesG + " <strong>Your answer: "+ yourAnswer + "</strong><br> <strong id='answer'>" + "Correct answer: " + correctAnswer  + "</strong></div> ";//  + 

    }
	
	
  } else { // move to next question
    // setting up so user can ask a question
    askingQuestion = true;
    // change button text back to "Submit Answer"
    submitBtn.textContent = "Submit Answer";
	scoreContainer.textContent = "Score: " + score + "/" + maxQ;; //nabago
    // if we're not on last question, increase question number
    if (questionNumber < maxQ - 1) {
      //currentQuestion++;
	  questionNumber++;
      askQuestion();
    } else {
      clearTimeout(t);
      showFinalResults();
    }
	
	//mga nadagdag quiz with images
	for(i=0; i<quiz.length; i++) { 
		$('#for_q_' + (i+1)).hide();
	}
	
	// mga nadagdag quiz with images
	if((questionNumber+1) === 1) {
		$('#question').after(images[0]);
	} else if((questionNumber+1) === 2) {
		$('#question').after(images[1]);
	}
	
	//mga nadagdag for view_solution
	for(i=0; i<quiz.length; i++) { 
		$('#solution_' + (i+1)).hide();
	}
	
	$('.for_view_solution').hide();
	$('#view_solution').css('visibility', 'hidden');
	
	solutionIsVisible = false;
	if(solutionIsVisible) {
		document.getElementById('view_solution').textContent = 'Hide Solution';
		solutionIsVisible = false;
	}else if(!solutionIsVisible){
		document.getElementById('view_solution').textContent = 'View Solution';
		solutionIsVisible = true;
	}
  }
}

function showFinalResults() {
	//resultPage = "<center><strong class='for_h'>You Passed!</strong></center>";
	if(score/maxQ >= 0.7){
		resultPage = "<center><strong class='for_h'>You Passed!</strong></center> <br> <center><strong>Score: " + score + " out of " + maxQ + " </strong></center><center><strong> Equivalent Percentage: " + Math.floor(score/maxQ*100) + "%</strong></center><center><strong>Total time: " + timeElapsed + "</strong></center> <br> <br><button id='restart' class='button fit' onclick='reloadCurrentPage();'> Restart the Test</button><button id='reviewMistakes' class='button fit' onclick='reviewMistakes();'> Review Mistakes</button> <button id='proceedToNext' class='button fit' onclick='proceedToNext();'> Proceed to next Test</button> ";
	} else {
		resultPage = "<center><strong class='for_h'>You Failed!</strong></center> <br> <center><strong>Score: " + score + " out of " + maxQ + " </strong></center><center><strong> Equivalent Percentage: " + Math.floor(score/maxQ*100) + "%</strong></center><center><strong>Total time: " + timeElapsed + "</strong></center> <br> <br><button id='restart' class='button fit' onclick='reloadCurrentPage();'> Restart the Test</button><button id='reviewMistakes' class='button fit' onclick='reviewMistakes();'> Review Mistakes</button> <button id='proceedToNext' class='button fit' onclick='proceedToNext();'> Proceed to next Test</button> ";
	}
	content.innerHTML = resultPage;
}

function reviewMistakes() {
	content.innerHTML = wrongAnswerQ + " <br><br> <center><button id='restart' class='button fit' onclick='reloadCurrentPage();'> Restart the Test</button></center> <button id='proceedToNext' class='button fit' onclick='proceedToNext();'> Proceed to next Test</button>";
}

function proceedToNext() {
	document.location.href = "ppe09.html"; //need to be updated per test 
}

function reloadCurrentPage() {
	document.location.href = "ppe08.html"; //need to be updated per test 
}

window.addEventListener("load", askQuestion, false);
submitBtn.addEventListener("click", checkAnswer, false);



</script>




			<!-- Scripts for Phantom -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>

</html>